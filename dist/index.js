!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).iconColorChangeUtil={})}(this,function(e){"use strict";function t(e){var h,d,t=e.iconUrl,i=e.newColor,o=e.width,n=e.height,a=e.type,l=e.callback;l||"function"!=typeof a||(l=a,a="image-data"),c();var g=document.createElement("img");function c(){d||h||(h=document.createElement("canvas"),d=h.getContext("2d"))}g.addEventListener("load",function(){{var e;h.width=g.width,h.height=g.height,function(e,t){c(),null==d||d.clearRect(0,0,h.width,h.height),null==d||d.drawImage(g,0,0,h.width,h.height),function(){if(d){var e,t,i,o,n,a=d.getImageData(0,0,h.width,h.height),l=a.data;for(e=0,t=null==l?void 0:l.length;e<t;e+=4)0!==l[e+3]&&(i=l[e],o=l[e+1],n=l[e+2],n=(i+o+n)/3>>>0,l[e]=l[e+1]=l[e+2]=n);d.putImageData(a,0,0)}}(),function(e,t){d&&(d.globalCompositeOperation="source-atop",d.globalAlpha=t,d.fillStyle=e,d.fillRect(0,0,h.width,h.height),d.globalCompositeOperation="source-over",d.globalAlpha=1)}(e,t)}(i,1),"data-png"===a?(e=h.toDataURL("image/png",1),null!=l&&l(e)):(e=null==d?void 0:d.getImageData(0,0,h.width,h.height),null!=l&&l(e))}g.remove()}),o&&(g.width=o),n&&(g.height=n),g.src=t}e.default=t,e.iconColorChangeUtil=t,Object.defineProperty(e,"__esModule",{value:!0})});
