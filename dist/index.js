!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).iconColorChangeUtil={})}(this,function(e){"use strict";function t(e){var h,d,t=(n=e||{}).iconUrl,o=n.newColor,i=n.type,a=n.callback,e=n.width,n=n.height;a||"function"!=typeof i||(a=i,i="image-data"),g();var l=document.createElement("img");function g(){d||h||(h=document.createElement("canvas"),d=h.getContext("2d"))}l.addEventListener("load",function(){h.width=l.width,h.height=l.height,function(e,t){g(),d.clearRect(0,0,h.width,h.height),d.drawImage(l,0,0,h.width,h.height),function(){var e,t,o,i,a,n=d.getImageData(0,0,h.width,h.height),l=n.data;for(e=0,t=l.length;e<t;e+=4)0!==l[e+3]&&(o=l[e],i=l[e+1],a=l[e+2],a=(o+i+a)/3>>>0,l[e]=l[e+1]=l[e+2]=a);d.putImageData(n,0,0)}(),function(e,t){d.globalCompositeOperation="source-atop",d.globalAlpha=t,d.fillStyle=e,d.fillRect(0,0,h.width,h.height),d.globalCompositeOperation="source-over",d.globalAlpha=1}(e,t)}(o,1),a("data-png"===i?h.toDataURL("image/png",1):d.getImageData(0,0,h.width,h.height));l.remove()}),e&&(l.width=e),n&&(l.height=n),l.src=t}e.default=t,e.iconColorChangeUtil=t,Object.defineProperty(e,"__esModule",{value:!0})});
